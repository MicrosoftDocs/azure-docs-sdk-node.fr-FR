### YamlMime:UniversalReference
ms.openlocfilehash: aefb4c20f71d148aac08516f52d42f1bb190bd82
ms.sourcegitcommit: efa2d98deffe8a0d41a8d63f9f07aa720862e6ab
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/13/2018
ms.locfileid: "52106614"
items:
- uid: ms-rest-azure.loginWithMSI
  name: 'loginWithMSI((err: Error, credentials: MSIVmTokenCredentials) => void)'
  children: []
  type: function
  langs:
  - typeScript
  summary: >
    Avant d’utiliser cette méthode, veuillez installer cli az à partir de https://github.com/Azure/azure-cli/releases.

    Si vous avez une machine virtuelle est configurée avec az cli et a activé les MSI, vous pouvez ensuite utiliser cette méthode pour obtenir des jetons d’authentification à partir de la machine virtuelle.

    Pour créer une nouvelle machine virtuelle, activer MSI, exécutez cette commande : az vm créer -g < resource_group_name > - n < vm_name >--assign-identity--image < os_image_name > Remarque : la commande ci-dessus permet à un point de terminaison de service sur l’hôte, avec un port par défaut 50342


    Pour activer MSI sur une machine virtuelle déjà configurée, exécutez la commande suivante : machine virtuelle az--assign-identity - g < resource_group_name > -n < vm_name >--port < custom_port_number >


    Pour en savoir plus sur cette commande, exécutez : machine virtuelle az--assign-identity - h


    S’authentifie à l’aide du service d’identité en cours d’exécution sur une machine virtuelle Azure.

    Cette méthode envoie une demande au service d’authentification hébergé sur la machine virtuelle et récupère un jeton d’accès.
  syntax:
    content: 'function loginWithMSI(callback: (err: Error, credentials: MSIVmTokenCredentials) => void)'
    parameters:
    - id: callback
      type:
      - '(err: Error, credentials: MSIVmTokenCredentials) => void'
      description: ''
  package: ms-rest-azure
